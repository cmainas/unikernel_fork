\chapter{Εισαγωγή}
Στις μέρες μας το cloud computing έχει γίνει ένα από τα ταχύτερα αναπτυσσόμενα
και ενδιαφέροντα θέματα στην επιστήμη των υπολογιστών. Το cloud computing δίνει
τη δυνατότητα σε απομακρυσμένους χρήστες να αποκτάνε πρόσβαση σε υπολογιστικούς
πόρους (αποθηκευτικός χώρος, εφαρμογές, υπηρεσίες κ.λ.π.) όταν χρειαστούν από
τους χρήστες. Ιδιαίτερα, τα τελευταία χρόνια το cloud έχει μπει και στις ζωές
των απλών χρηστών. H χρήση των προσωπικών υπολογιστών αρχίζει να αλλάζει
σημαντικά, καθώς πλέον προγράμματα και δεδομένα απομακρύνονται από τους 
προσωπικούς υπολογιστές για να εκτελεστούν και να αποθηκευτούν στο λεγόμενο
cloud. 

Μία από τις βασικές τεχνολογίες που κρύβονται πίσω από το cloud είναι αυτή της
εικονικοποίησης. Χάρις την εικονικοποίηση, μπορούμε σε ένα φυσικό μηχάνημα να
φιλοξενήσουμε πολλά εικονικά μηχανήματα κάθε ένα από τα οποία είναι ανεξάρτητο.
Με αυτό τον τρόπο, μπορούμε να αξιοποιήσουμε καλύτερα τους φυσικούς πόρους του
μηχανήματος και να τους διαμοιράσουμε όπως επιθυμούμε μεταξύ των εικονικών
μηχανών. Ακόμα, η εικονικοποίηση δημιούργησε και κάποιες νέες δυνατότητες, όπως
αυτή της μεταφοράς εικονικών μηχανών σε διαφορετικό φυσικό μηχάνημα, η
δημιουργία αντιγράφων εικονικών μηχανών, αλλά και περισσότερη ασφάλεια, αφού ένα
πρόβλημα σε ένα εικονικό μηχάνημα δε θα επηρεάσει ούτε το φυσικό ούτε τα
υπόλοιπα εικονικά μηχανήματα. 

Ένα συχνό φαινόμενο κατά τη χρήση της εικονικοποίησης, είναι η χρήση μία
εικονικής μηχανής με συμβατικά λειτουργικά συστήματα για την υποστήριξη μίας και
μόνο υπηρεσίας. Όπως είναι φυσικό το λειτουργικό σύσστημα μέσα στην εικονική
μηχανή χρειάζεται κάποιους πόρους για να λειτουργήσει, ενώ συχνά μπορεί να
εκτελεί λειτουργίες οι οποίες δε χρειάζονται από την εφαρμογή. Ακόμα, ο κώδικας
όλου του λειτουργικού συστήματος αυξάνει αρκετά και το μέγεθος σε μνήμη της
εικονικής μηχανής. Γϊνεται λοιπόν, κατανοητό ότι σπαταλούνται πόροι, οι οποίοι
θα μπορούσα να διατεθούν είτε στην ίδια την υπηρεσία είτε σε κάποια άλλη. 

Για την επίλυση του παραπάνω προβλήμαατος αναζητήθηκαν λύσεις για να γίνει η
εικονικοποίηση πιο ελαφρυά, αλλά και να μη σπαταλούνται πόροι σε αχρείαστες
λειτουργίες. Μία από αυτές τις λύσεις, ήταν η εικονικοποίηση σε επίπεδο
λειτουργικού συστήματος ή διαφορετικά containerization. Με τη συγκεκριμένη
μέθοδο ο πυρήνας επιτρέπει την ύπαρξη πολλαπλών απομονωμένων user-space
instances, που ονομάζονται containers. Τα containers μοιράζονται μεταξύ τους το
λειτουργικό σύστημα στα οποία εκτελούνται, ενώ ταυτόχρονα παρέχουν ένα
απομονωμένο περιβάλλον για τις διεργασίες μέσα σε αυτό. 

Η τεχνολογιά των containers, όπως κάθε άλλη τεχνολογιά δε θα μπορούσε να μην
έχει και κάποια μειονεκτήματα. Ένα από τα κύρια μειονεκτήματα, είναι αυτό της
ασφάλειας. Τα containers μοιράζοντααι τον ίδιο πυρήνα του host, ενώ οι
μηχανισμοί απομόνωσης δεν είναι το ίδιο ισχυροί με αυτούς στα εικονικά
μηχανήματα. Μάλιστα, έχουν αναφερθεί περιπτώσεις όπου από ένα container
μπορούσαν να παρθούν πληροφορίες και δεδομένα τόσο για το host, όσο και για άλλα
containers ~\cite{gao2017containerleaks}. Όλα αυτά έχουν οδηγήσει σε περιπτώσεις
όπου τα containers χρησιμοποιούνται πάνω από ένα πλήρη λειτουργικό σύστημα το
οποίο τρέχει μέσα σε μία εικονική μηχανή.

Μία ιδέα που αρχίζει να αποκτά όλο και περισσότερο ενδιαφέρον και προσοχή 
είναι αυτή των unikernels. Η βάση της ιδέας, είναι  η
κατασκευή ειδικευμένω εικονικών μηχανών για κάθε ξεχωριστή υπηρεσία. Στην
εικονική αυτή μηχανή δε χρειάζεται να υπάρχει ένα πλήρη λειτουργικό σύστημα,
αλλά μόνο τα κομμάτια αυτού τα οποία είναι απαραίτητα για την εκτέλεση της
υπηρεσίας. Με αυτό τον τρόπο, μειώνεται σημαντικά το μέγεθος των εικονικών
μηχανών, ενώ πλέον οι πόροι χρησιμοποιούνται ακριβώς για τις λειτουργίες που
χρειάζεται η υπηρεσία. Τέλος, εφόσον αναφερόμαστε σε εικονικές μηχανές, η
απομόνωση τους είναι κάτι το οποίο έχουν φροντίσει ήδη οι ελεγκτές. 

\section{Σκοπός}

Η φιλοσοφία των unikernels είναι ότι κάθε εικονική μηχανή θα έχει ένα
συγκεκριμένο σκοπό. Για το λόγο αυτό οι unikernels δεν υποστηρίζουν παραπάνω
από μία διεργασία σε κάθε εικονική μηχανή. Από την άλλη, υπάρχουν unikernel
frameworks τα οποία επιτρέπουν την υποστήριξη περισσότερων από ένα νήμα. Ωστόσο
οι περισσότερες εφαρμογές και υπηρεσίες στο cloud είναι φτιαγμένες για ένα πλήρη
λειτουργικό σύστημα. Επομένως, προκειμένου να μπορούν να τρέξουν σε ένα
unikernel θα πρέπει να αλλάξει άλλοτε περισσότερο και άλλοτε λιγότερο ο
σχεδιασμός τους. Ιδιαίτερα, οι εφαρμογές που χρησιμοποιούν παραπάνω από μία
διεργασίες θα πρέπει να αλλάξουν σε ένα μοντέλο με μία μόνο διεργασία. 

%%Η φιλοσοφία των unikernels είναι ότι κάθε εικονική μηχανή θα έχει ένα
%%συγκεκριμένο σκοπό, συνεπώς δε χρειάζονται παραπάνω από μία διεργασίες, ενώ δεν
%%υπάρχει διαχωρισμός ανάμεσα σε kernelspace και userspace. Άλλωστε πρόκειται για
%%ειδικευμένες εικονικές μηχανές που θα υποστηρίζουν ακριβώς μία υπηρεσία,
%%κάνοντας έτσι τους μηχανισμούς αυτούς του λειτουργικού συστήματος περιττούς.
%%Ωστόσο, το μεγαλύτερο μέρος των εφαρμογών και υπηρεσιών, έχουν φτιαχτεί με σκοπό
%%να τρέχουν σε πλήρη λειτουργικά συστήματα, χρησιμοποιώντας νήματα και διεργασίες
%%για την εκτέλεση τους. Ενώ υπάρχουν unikernels frameworks που υποστηρίζουν
%%περισσότερα από ένα thread, εφαρμογές που χρησιμοποιούν παραπάνω από μία
%%διεργασία, χρειάζονται να αλλάξουν για να μπορέσουν να τρέξουν σε κάποιο
%%unikernel framework. 

Ο σκοπός της συγκεκριμένης εργασίας είναι να υλοποιήσει, κρατώντας τo
single-proccess χαρακτηριστικό των unikernels, ένα μηχανισμό για την υποστήριξη
των εφαρμογών που απαιτούν παραπάνω από μία διεργασία. 

Αρχικά έγινε μία μελέτη γύρω από τα υπάρχοντα unikernel frameworks, παρατηρώντας
τα χαρακτηριστικά του κάθε ενός. Στη συνέχεια σε ένα από αυτά τα unikernels
(rumprun) υλοποιήθηκαν οι δύο παρακάτω λειτουργίες:

\begin{itemize}
\item ένας μηχανισμός για επικοινωνία μεταξύ των vms, ο οποίος είναι στα πρότυπα
της κλήσης συστήματος pipe (POSIX). Ουσιαστικά πρόκειται για την υλοποίηση της
pipe σε επίπεδο εικονικών μηχανών. 
\item  ένας μηχανισμός για την υποστήριξη της κλήσης συστήματος fork από τους
unikernels. Όταν μία εφαρμογή θα χρησιμοποιεί τη συγκεκριμένη κλήση συστήματος,
θα δημιουργείται μία νέα εικονική μηχανή κλώνος της αρχικής και θα ξεκινά την
εκτέλεση της, ακριβώς μετά την κλήση συστήματος fork.
\end{itemize}

\section{Οργάνωση Κειμένου}
Στη συνέχεια παρουσιάζεται αναλυτικά η περιγραφή του σχεδιασμού και της
υλοποίησης των δύο λειτουργιών pipe, fork, γίνεται μία ανασκόπηση στα ήδη
υπάρχοντα unikernel frameworks και περιγράφεται το απαραίτητο θεωρητικό υπόβαθρο.

Πιο συγκεκριμένα, στο Κεφάλαιο 2 καλύπτεται το απαραίτητο θεωρητικό υπόβαθρο,
κάνοντας μία μικρή αναφορά για το cloud computing, μία εισαγωγή στην εικονικοποίηση και στα λειτουργικά συστήματα.

Στο Κεφάλαιο 3 παρουσιάζονται τα unikernel frameworks που μελετήθηκαν, τα
χαρακτηριστικά τους, η φιλοσοφία τους κ.λ.π.

Στο Κεφάλαιο 4 γίνεται αναλυτική περιγραφή του σχεδιασμού και της υλοποίησης των
δύο λειτουργιών που αναφέρθηκαν προηγουμένως στο σκοπό της εργασίας (pipe,
fork).

Τέλος,στο Κεφάλαιο 6 αναφέρονται τα τελικά συμπεράσματα της παρούσας μελέτης
όπως επίσης και πιθανές μελλοντικές επεκτάσεις αυτής της διπλωματικής εργασίας.
